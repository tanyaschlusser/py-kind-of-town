<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">
    <link rel="stylesheet" href="css/zenburn.css"/>
  </body>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h2>"Py" Kind of Town</h2>
          <h4>Python in Chicago</h4>
          <p>@tanyaschlusserâ€”DuPage Python Meetup
            <ul>
              <li>slides: <a href="https://bit.ly/py-town-dupage">bit.ly/py-town-dupage</a></li>
              <li><a href="https://github.com/tanyaschlusser/py-kind-of-town">GitHub repo with starter notebooks</a></li>
            </ul>
          </p>
        </section>
        <section data-markdown>
          <textarea data-template>
            <h3>$ whoami</h3>
            ```shell
            Tanya Schlusser
            
            - lives near Midway
            - enthusiastic ChiPy member
            - FORTRAN â†’ R â†’ Python (primary languages at various points)
           ```
          </textarea>
          <aside class="notes">
            I started coding professionally in 2011, but with a lot of engineering training
            before that. I did big data analytics consulting and am a big fan of
            data-driven decisions.

            Oh, and I'm a coauthor of OReilly's "the Hitchhiker's Guide to Python" with
            Kenneth Reitz (and the 200-odd online contributors.) All royalties go directly to
            Django Girls.

            I think it's awesome that you all are starting a Python meetup in DuPage.
          </aside>
        </section>
        <section>
          <h3>Who are you?</h3>
          <p class="fragment">(from Meetup data)</p>
          <aside class="notes">
            Speaking of data-driven decisions, I had to figure out what to talk about
            so I pulled other group memberships from the Meetup API. Here are some demographics:
          </aside>
        </section>
        <section>
          <h5>Membership stats (on 29 Dec 2018)</h5>
          <ul>
            <li style="width:100%;background-color:#84D6;white-space:nowrap;margin:.2em"><span style="padding-left:.2em">147 people </span><span style="color:#5558">in the DuPage Python group</span></li>
            <li class="fragment" style="width:88%;background-color:#84D6;white-space:nowrap;margin:.2em"><span style="padding-left:.2em">88% </span><span style="color:#5558">â€” at least one other</span> Python <span style="color:#5558">group</span></li>
            <li class="fragment" style="width:50%;background-color:#84D6;white-space:nowrap;margin:.2em"><span style="padding-left:.2em">50% </span><span style="color:#5558">â€” at least one</span> Data Science <span style="color:#5558">group</span></li>
            <li class="fragment" style="width:33%;background-color:#84D6;white-space:nowrap;margin:.2em"><span style="padding-left:.2em">33% </span><span style="color:#5558">â€” at least one</span> infrastructure <span style="color:#5558">group</span></li>
            <li class="fragment" style="width:27%;background-color:#84D6;white-space:nowrap;margin:.2em"><span style="padding-left:.2em">27% </span><span style="color:#5558">â€” at least one</span> R <span style="color:#5558">group</span></li>
            <li class="fragment" style="width:23%;background-color:#84D6;white-space:nowrap;margin:.2em"><span style="padding-left:.2em">23% </span><span style="color:#5558">â€” at least one</span> front end <span style="color:#5558">group</span></li>
          </ul>
        </section>
        <section>
          <h5>Intersections (top 10 tags)</h5>
          <button class="img-table-toggler" id="meetup_sets_png">Show data</button><br/>
          <img src="img/meetup_sets.png"
               class="plain meetup_sets_png"
               alt="Bar plot with a second diagram that annotates how set memberships and intersections work for each group. Click 'Show data' button for table."/>
          <table class="meetup_sets_png" style="display:none;transform-origin:top center;transform:scale(0.42)">
            <tr><th>Intersection</th><th>Count</th></tr>
            <tr><td>only other Python groups</td><td>29</td></tr>
            <tr><td>Python, R, and Data Science groups</td><td>18</td></tr>
            <tr><td>all groups hidden</td><td>17</td></tr>
            <tr><td>Python and Data Science groups</td><td>15</td></tr>
            <tr><td>Python, Data Science, and infastructure groups</td><td>12</td></tr>
            <tr><td>Python and infrastructure groups</td><td>11</td></tr>
            <tr><td>all of R, Python, data science, infrastructure, and front end groups</td><td>7</td></tr>
            <tr><td>all except R: Python, data science, infrastructure, and front end groups</td><td>7</td></tr>
            <tr><td>Python and front end groups</td><td>7</td></tr>
            <tr><td>Python, data science, and front end groups</td><td>6</td></tr>
            <tr><td>all except front end: R, Python, data science, and infrastructure</td><td>6</td></tr>
            <tr><td>R and Python groups</td><td>4</td></tr>
            <tr><td>all except infrastructure: R, Python, front end, and data science</td><td>3</td></tr>
            <tr><td>Python, infrastructure, and front end groups</td><td>3</td></tr>
            <tr><td>R, Python, and infrastructure groups</td><td>1</td></tr>
            <tr><td>R, Python, infrastructure and front end groups</td><td>1</td></tr>
          </table>
        </section>
        <section>
          <h5>Without R may be clearer</h5>
          <button class="img-table-toggler" id="meetup_sets_no_r_png">Show data</button><br/>
          <img src="img/meetup_sets_no_r.png"
               class="plain meetup_sets_no_r_png"
               alt="Bar plot with a third diagram that annotates how set memberships and intersections work for each group, excluding R groups. Click 'Show data' button for table."/>
          <table class="meetup_sets_no_r_png" style="display:none;transform-origin:top center;transform:scale(0.5)">
            <tr><th>Intersection</th><th>Count</th></tr>
            <tr><td>only other Python groups</td><td>33</td></tr>
            <tr><td>Python and Data Science groups</td><td>33</td></tr>
            <tr><td>Python, data science, and infrastructure groups</td><td>18</td></tr>
            <tr><td>all groups hidden</td><td>17</td></tr>
            <tr><td>all of Python, data science, infrastructure, and front end groups</td><td>14</td></tr>
            <tr><td>Python and infastructure groups</td><td>12</td></tr>
            <tr><td>Python, data science, and front end groups</td><td>9</td></tr>
            <tr><td>Python and front end groups</td><td>7</td></tr>
            <tr><td>Python, infrastructure, and front end groups</td><td>4</td></tr>
          </table>
        </section>
        <section>
          <h3>That was an <span class="code">upsetplot</span></h3>
          <ul>
            <li>Shows multiple set insersections</li>
            <li>Lex, Gehlenborg, Strobelt, Romain, Pfister (2014)</li>
            <li>Primary implementation: in the <a href="https://caleydo.org/tools/">Caleydo suite</a></li>
            <li>R implementation: <a href="https://cran.r-project.org/web/packages/UpSetR/vignettes/basic.usage.html">UpSetR</a></li>
            <li>Python implementation <a href="https://upsetplot.readthedocs.io/en/latest/">UpSetPlot</a> (unofficial)</li>
          </ul>
        </section>
        <section>
          <h3>Back story: 6-way Venn Diagram</h3>
          <a href="https://caleydo.org/tools/upset/#why-upset">
            <img src="https://caleydo.org/assets/images/projects/upset//banana.png"
                 class="plain" style="width:50%"
                 alt="Copy of a 6-way Venn Diagram from a famous Nature article (follow the hyperlink for more)
                      that literally has a picture of a banana on it and a couple of totally weird squiggly shapes that's
                      basically unreadable. It shows the relationship between the banana's genome and 5 other
                      species. It was so unreadable it apparently inspired the authors to find a better way.
                      The way is a bar chart of consecutive set intersections one after another that is pretty
                      much the visual equivalent of the data listed on the 'alt' section of the last slide."></img>
          </a>
          <p>This figure (<a href="https://www.nature.com/articles/nature11241">Nature, 2012</a>) so offended the authors ðŸ˜± that they published a new method in 2014.</p>
        </section>
        <section>
          <h3>Banana redo</h3>
          <a href="https://caleydo.org/tools/upset/#why-upset">
            <img src="https://caleydo.org/assets/images/projects/upset/upsetr-banana_clipped.png"
                 class="plain" style="width:70%"
                 alt="This one is a tiny figure so it's hard to read what it says, but the same unreadable
                      banana diagram from before is plotted as a bar chart showing each separate set intersection
                      and it is indeed very easy to tell which similarities are importand and which are not."></img>
          </a>
          <p>Here's the UpSet banana plot.<br/>(With most frequent intersections.)</p>
        </section>
        <section>
          <h3>Description</h3>
          <a href="https://caleydo.org/tools/upset/#upset-concept">
            <img src="https://caleydo.org/assets/images/projects/upset//matrix.png"
                 alt="This draws a three-way Venn diagram and one by one colors each section
                      (A only, B only, C only, A and B, B and C, etcetera)
                      and then colors a bar chart, with accompanying consecutive dots that indicate which
                      intersection is depicted by that specific bar.
                      It is much easier to understand."></img>
          </a>
          <p>(from <a href="https://caleydo.org/tools/upset/#upset-concept">their website</a>)</p>
          <p>The dots denote intersections.</p>
        </section>
        <section>
        <p>Here's their online viewer</p>
        <iframe title="Free online visualizer for UpSet." src="https://vcg.github.io/upset/" style="width:100%;height:90%"></iframe>
        </section>
        <section>
          <h3>Pnemonic: UpSet</h3>
          <p>...Venn Diagrams shouldn't make you up-set!</p>
        </section>
        <section>
          <h3>Meetup API</h3>
          <p>How did I get the data?</p>
          <ul>
            <li>REST API that returns JSON-formatted text</li>
            <li>Well-documented <a href="https://www.meetup.com/meetup_api/">meetup.com/meetup_api/</a></li>
            <li>As of December 2018 you need a free API key</li>
            <li>Many APIs, very detailed; paid users get more</li>
          </ul>
        </section>
        <section data-markdown>
          <textarea data-template>
          Code to pull from Meetup API:

          ```python
          api_url = "https://api.meetup.com"
          group = "DuPage-Python-Meetup"
          response = requests.get(f"{api_url}/{group}/members")
          user_ids = [entry["id"] for entry in response.json()]
          
          apikey = 12345
          all_users_groups = {}
          for user_id in user_ids:
              time.sleep(3)  # Meetup throttles you
              result = requests.get(f"{api_url}/members/{user_id}?sign=True&key={apikey}&fields=memberships").json()
              if "memberships" not in result:
                  all_users_groups[user_id] = []
              else:
                  group_names = sorted(m["group"]["name"] for m in result["memberships"]["member"])
                  all_users_groups[user_id] = group_names
          ```
          </textarea>
        </section>
        <section>
          <h2>DuPage Python's interests are roughly</h2>
          <p>(overlapping)</p>
          <ul>
            <li>&frac12; analytics</li>
            <li>â…“ infrastructure</li>
            <li>&frac14; web</li>
          </ul>
        </section>
        <section>
          <h4>And regional employers?</h4>
          <p>based on a single-day job board snapshot &hellip;</p>
          <ul>
            <li> Free ones<br/>
                <a href="https://stackoverflow.com/jobs?q=python&l=chicago">StackOverflow (RSS)</a> (great!)<br/>
                <a href="https://jobs.github.com/api">GitHub API</a> (meh)
            </li>
            <li>Others not used (need a developer key)<br/>
                <a href="http://www.dice.com/external/content/documentation/api.html">Dice</a>,
                <a href="https://developer.linkedin.com/docs/rest-api">LinkedIn</a>,
                <a href="https://developers.google.com/search/apis/indexing-api/v3/libraries">Google indexing</a>
            </li>
          </ul>
        </section>
        <section>
          <h5>Stackoverflow Jobs</h5>
          <h6>(Chicago 5 Jan 2019)</h6>
          <ul>
            <li style="width:100%;background-color:#84D6;white-space:nowrap;margin:.2em">96 postings in the Chicago area right now</li>
            <li style="width:27%;background-color:#84D6;white-space:nowrap;margin:.2em">27% Director / Manager / Project Manager jobs</li>
            <li style="width:18%;background-color:#84D6;white-space:nowrap;margin:.2em">18% Backend jobs</li>
            <li style="width:17%;background-color:#84D6;white-space:nowrap;margin:.2em">17% Other developer jobs</li>
            <li style="width:11%;background-color:#84D6;white-space:nowrap;margin:.2em">11% Frontend jobs</li>
            <li style="width:11%;background-color:#84D6;white-space:nowrap;margin:.2em">11% Security jobs</li>
            <li style="width:7%;background-color:#84D6;white-space:nowrap;margin:.2em">7% DevOps jobs</li>
            <li style="width:7%;background-color:#84D6;white-space:nowrap;margin:.2em">7% Full Stack jobs</li>
            <li style="width:1%;background-color:#84D6;white-space:nowrap;margin:.2em">1% Data Science jobs ðŸ˜­</li>
          </ul>
        </section>
        <section>
          <h5>By employer</h5>
          <ul>
            <li style="width:100%;background-color:#84D6;white-space:nowrap;margin:.2em">96 postings in the Chicago area</li>
            <li style="width:54%;background-color:#84D6;white-space:nowrap;margin:.2em">54% Other companies</li>
            <li style="width:19%;background-color:#84D6;white-space:nowrap;margin:.2em">19% JP Morgan Chase</li>
            <li style="width:6%;background-color:#84D6;white-space:nowrap;margin:.2em">6% Uline</li>
            <li style="width:5%;background-color:#84D6;white-space:nowrap;margin:.2em">5% Discover</li>
            <li style="width:4%;background-color:#84D6;white-space:nowrap;margin:.2em">4% Infutor Data Solutions</li>
            <li style="width:4%;background-color:#84D6;white-space:nowrap;margin:.2em">4% Hays US</li>
            <li style="width:4%;background-color:#84D6;white-space:nowrap;margin:.2em">4% NextCapital</li>
            <li style="width:3%;background-color:#84D6;white-space:nowrap;margin:.2em">3% Critical Mass</li>
          </ul>
        </section>
        <section>
          <h5>Tagged language(s) â€” there's overlap</h5>
          <ul>
            <li style="width:100%;background-color:#84D6;white-space:nowrap;margin:.2em">96 postings in the Chicago area</li>
            <li style="width:44%;background-color:#84D6;white-space:nowrap;margin:.2em">36% tagged Java</li>
            <li style="width:43%;background-color:#84D6;white-space:nowrap;margin:.2em">35% tagged Python</li>
            <li style="width:31%;background-color:#84D6;white-space:nowrap;margin:.2em">23% tagged SQL</li>
            <li style="width:21%;background-color:#84D6;white-space:nowrap;margin:.2em">22% tagged Javscript</li>
            <li style="width:11%;background-color:#84D6;white-space:nowrap;margin:.2em">9% tagged C++</li>
            <li style="width:5%;background-color:#84D6;white-space:nowrap;margin:.2em">5% tagged Ruby</li>
          </ul>
        </section>
        <section>
          <h5>Intesections</h5>
          <p>This uses data from a different date than the last 3 slides</p>
          <button class="img-table-toggler" id="stackoverflow_sets_png">Show data</button><br/>
          <img src="img/stackoverflow_sets.png"
               class="plain stackoverflow_sets_png"
               alt="Bar plot with a second diagram that annotates how set memberships and intersections work for each group. Click 'Show data' button for table."/>
          <table class="stackoverflow_sets_png" style="display:none;transform-origin:top center;transform:scale(0.2)">
            <tr><th>Intersection</th><th>Count</th></tr>
            <tr><td>Java, Python, and SQL</td><td>Java, Python, and SQL</td></tr>
            <tr><td>No tags</td><td>No tags</td></tr>
            <tr><td>Java only</td><td>Java only</td></tr>
            <tr><td>Javascript</td><td>Javascript</td></tr>
            <tr><td>Java and javascript</td><td>Java and javascript</td></tr>
            <tr><td>Sysadmin only</td><td>Sysadmin only</td></tr>
            <tr><td>Linux and C++</td><td>Linux and C++</td></tr>
            <tr><td>Amazon Web Services only</td><td>Amazon Web Services only</td></tr>
            <tr><td>Javascript and React.js</td><td>Javascript and React.js</td></tr>
            <tr><td>SQL and Javascript</td><td>SQL and Javascript</td></tr>
            <tr><td>ReactJs only</td><td>ReactJs only</td></tr>
            <tr><td>Javascript, AWS, and React.js</td><td>Javascript, AWS, and React.js</td></tr>
            <tr><td>Python only</td><td>Python only</td></tr>
            <tr><td>Python and C++</td><td>Python and C++</td></tr>
            <tr><td>Python and javascript</td><td>Python and javascript</td></tr>
            <tr><td>Java, Python, and linux</td><td>Java, Python, and linux</td></tr>
            <tr><td>Automation only</td><td>Automation only</td></tr>
            <tr><td>C++ only</td><td>C++ only</td></tr>
            <tr><td>Linux and Sysadmin</td><td>Linux and Sysadmin</td></tr>
            <tr><td>Amazon Web Services and automation</td><td>Amazon Web Services and automation</td></tr>
            <tr><td>Amazon Web Services and sysadmin</td><td>Amazon Web Services and sysadmin</td></tr>
            <tr><td>Javascript and AWS</td><td>Javascript and AWS</td></tr>
            <tr><td>Javascript, AWS, and sysadmin</td><td>Javascript, AWS, and sysadmin</td></tr>
            <tr><td>SQL only</td><td>SQL only</td></tr>
            <tr><td>Python, Linux, sysadmin, and automation</td><td>Python, Linux, sysadmin, and automation</td></tr>
            <tr><td>Python, linux, and C++</td><td>Python, linux, and C++</td></tr>
            <tr><td>Python and AWS</td><td>Python and AWS</td></tr>
            <tr><td>Python, AWS, and automation</td><td>Python, AWS, and automation</td></tr>
            <tr><td>Python, AWS, linux, and automation</td><td>Python, AWS, linux, and automation</td></tr>
            <tr><td>Python, javascript, and React.js</td><td>Python, javascript, and React.js</td></tr>
            <tr><td>Python, SQL, and AWS</td><td>Python, SQL, and AWS</td></tr>
            <tr><td>Java and automation</td><td>Java and automation</td></tr>
            <tr><td>Java and linux</td><td>Java and linux</td></tr>
            <tr><td>Java, linux, and C++</td><td>Java, linux, and C++</td></tr>
            <tr><td>Java and SQL</td><td>Java and SQL</td></tr>
            <tr><td>Java and Python</td><td>Java and Python</td></tr>
            <tr><td>Java, Python, and AWS</td><td>Java, Python, and AWS</td></tr>
            <tr><td>Java, Python, AWS, and sysadmin</td><td>Java, Python, AWS, and sysadmin</td></tr>
          </table>
        </section>
        <section>
          <h5>Intersections with just languages</h5>
          <p>This uses data from a different date than the last 3 text slides</p>
          <button class="img-table-toggler" id="stackoverflow_sets_languages_only_png">Show data</button><br/>
          <img src="img/stackoverflow_sets_languages_only.png"
               class="plain stackoverflow_sets_languages_only_png"
               alt="Bar plot with a second diagram that annotates how set memberships and intersections work for each group. Click 'Show data' button for table."/>
          <table class="stackoverflow_sets_languages_only_png" style="display:none;transform-origin:top center;transform:scale(0.3)">
            <tr><th>Intersection</th><th>Count</th></tr>
            <tr><td>Python, Java, and SQL</td><td>26</td></tr> <!-- JP Morgan Chase messed it all up, boooo -->
            <tr><td>No languages tagged</td><td>25</td></tr>
            <tr><td>Javascript only</td><td>12</td></tr>
            <tr><td>Java only</td><td>8</td></tr>
            <tr><td>Python only</td><td>5</td></tr>
            <tr><td>Python and Java</td><td>5</td></tr>
            <tr><td>C++ only</td><td>4</td></tr>
            <tr><td>SQL and Javascript</td><td>2</td></tr>
            <tr><td>Python and C++</td><td>3</td></tr>
            <tr><td>Python and Javascript</td><td>3</td></tr>
            <tr><td>Java and Javascript</td><td>3</td></tr>
            <tr><td>Java, Javascript, and Scala</td><td>1</td></tr>
            <tr><td>Java and C++</td><td>1</td></tr>
            <tr><td>Java and SQL</td><td>1</td></tr>
            <tr><td>Python and SQL</td><td>1</td></tr>
            <tr><td>SQL only</td><td>1</td></tr>
          </table>
        </section>
        <section>
          <h5>GitHub Jobs (5 Jan 2019)</h5>
          <ul>
            <li style="width:100%;background-color:#84D6;white-space:nowrap;margin:.2em">180 U.S. postings</li>
            <li style="width:22%;background-color:#84D6;white-space:nowrap;margin:.2em">22% Other job categories</li>
            <li style="width:21%;background-color:#84D6;white-space:nowrap;margin:.2em">21% Manager/Director/Project Manager jobs</li>
            <li style="width:14%;background-color:#84D6;white-space:nowrap;margin:.2em">14% Front End jobs</li>
            <li style="width:14%;background-color:#84D6;white-space:nowrap;margin:.2em">14% Back End jobs</li>
            <li style="width:13%;background-color:#84D6;white-space:nowrap;margin:.2em">13% Full stack jobs</li>
            <li style="width:9%;background-color:#84D6;white-space:nowrap;margin:.2em">9% DevOps jobs</li>
            <li style="width:6%;background-color:#84D6;white-space:nowrap;margin:.2em">6% Data Science jobs</li>
            <li style="width:2%;background-color:#84D6;white-space:nowrap;margin:.2em">2% Security jobs</li>
          </ul>
        </section>
        <section>
          <h5>GitHub by language (+ overlap)</h5>
          <ul>
            <li style="width:100%;background-color:#84D6;white-space:nowrap;margin:.2em">180 U.S. postings</li>
            <li style="width:40%;background-color:#84D6;white-space:nowrap;margin:.2em">40% tagged SQL</li>
            <li style="width:39%;background-color:#84D6;white-space:nowrap;margin:.2em">39% tagged Javascript</li>
            <li style="width:37%;background-color:#84D6;white-space:nowrap;margin:.2em">37% tagged Python</li>
            <li style="width:26%;background-color:#84D6;white-space:nowrap;margin:.2em">26% tagged Scala</li>
            <li style="width:16%;background-color:#84D6;white-space:nowrap;margin:.2em">16% tagged Java</li>
            <li style="width:9%;background-color:#84D6;white-space:nowrap;margin:.2em">9% tagged C++</li>
          </ul>
        </section>
        <section>
          <h3>Conclusion</h3>
          <p>(caveat: snapshot on a single day)</p>
          <ul>
            <li>4x-10x less demand for data science than web</li>
            <li>Python is ubiquitous, and usually requested<br/>in addition to another language</li>
          </ul>
        </section>
        <section>
          <h1>SEC API</h1>
          <p>Start here: <a href="https://www.sec.gov/developer">sec.gov/developer</a></p>
          <ul>
            <li>The EDGAR API</li>
            <li><span style="color:rebeccapurple">E</span>lectronic <span style="color:rebeccapurple">D</span>ata <span style="color:rebeccapurple">G</span>athering, <span style="color:rebeccapurple">A</span>nalysis, and <span style="color:rebeccapurple">R</span>etrieval system<br/>
                 <small><a href="https://www.sec.gov/edgar/searchedgar/accessing-edgar-data.htm">sec.gov/edgar/searchedgar/accessing-edgar-data.htm</a></small>
            </li>
          </ul>
        </section>
        <section>
         <h2>SEC EDGAR data</h2>
         <h5>(no APIkey)</h5>
         <ul>
          <li>Max 10 queries/sec; else possibly block IP</li>
          <li>Press releases, legal announcements</li>
          <li>SEC forms/filings by public companies/investment firms since 1994</li>
          <li>Use regex to pull the parts you want</li>
         </ul>
        </section>
        <section>
         <h4>Options</h4>
          <ul>
            <li>RSS feed (recent SEC publications; filings)<br/><a href="https://www.sec.gov/about/secrss.shtml">sec.gov/about/secrss.shtml</a></li>
            <li>Daily / quarterly index files<br/>(fixed-width text linking to each doc)</li>
            <li>Archive files (zipped)</li>
          </ul>
        </section>
        <section data-markdown>
          <textarea data-template>
            <h3>Pull from RSS</h3>
            ```python
            url = "https://www.sec.gov/rss/investor/alerts"
            response = requests.get(url)
            rss = re.search(r"<rss.*rss>", response.text, re.DOTALL).group(0)
            root = etree.fromstring(rss)
            items = root.findall(".//item", namespaces=root.nsmap)
            links = [i.findtext("./link", namespaces=root.nsmap) for i in items]
            titles = [i.findtext("./title", namespaces=root.nsmap).strip() for i in items]
            content = "\n".join([
                f"<li><a href='{link}'>{title}</a></li>"
                for (link, title) in zip(links, titles)
            ])
            print(f"<h2>{url}</h2><ul>{content}</ul>")
            ```
          </textarea>
        </section>
        <section>
        <h2>&hellip; produces this:</h2>
        <small>
        <ul>
          <li><a href="https://www.sec.gov/oiea/investor-alerts-and-bulletins/ia_californiawildfires">Investor Alert: Scammers May Try to Take Advantage of the California Wildfires</a></li>
          <li><a href="https://www.sec.gov/oiea/investor-alerts-and-bulletins/ib_varlifeinsurance">Investor Bulletin: Variable Life Insurance</a></li>
          <li><a href="https://www.sec.gov/oiea/investor-alerts-and-bulletins/ib_variableannuities">Updated Investor Bulletin: Variable Annuities</a></li>
          <li><a href="https://www.sec.gov/oiea/investor-alerts-and-bulletins/ia_hurricanescams">Investor Alert: Be Vigilant for Investment Scams Related to Recent Hurricanes</a></li>
          <li><a href="https://www.sec.gov/oiea/investor-alerts-and-bulletins/ia_secendorsements">Investor Alert: Watch Out For False Claims About SEC And CFTC Endorsements Used To Promote Digital Asset Investments</a></li>
          <li><a href="https://www.sec.gov/oiea/investor-alerts-and-bulletins/ib_wiw2018">Investor Bulletin:  World Investor Week 2018</a></li>
          <li><a href="https://www.sec.gov/oiea/investor-alerts-and-bulletins/ia_donotinvitescams">Investor Alert: Donâ€™t Invite Investment Scams to Find You</a></li>
          <li><a href="https://www.sec.gov/oiea/investor-alerts-and-bulletins/ia_marijuana">Investor Alert: Marijuana Investments and Fraud</a></li>
        </ul>
        </small>
        </section>
        <section>
        <h3>S1 filing data from search RSS</h3>
        <p><a href="https://www.sec.gov/cgi-bin/srch-edgar">sec.gov/cgi-bin/srch-edgar</a></p>
          <button class="img-table-toggler" id="s1_filings_since_2008_png">Show data</button><br/>
          <img src="img/s1_filings_since_2008.png"
               class="plain s1_filings_since_2008_png"
               alt="Line plot showing the count of S-1 filings descend over time. Click 'Show data' button for table."/>
          <table class="s1_filings_since_2008_png" style="display:none;transform-origin:top center;transform:scale(0.4)">
            <tr><th>Year</th><th>S-1 count</th></tr>
            <tr><td>2008</td><td>2215</td></tr>
            <tr><td>2009</td><td>2752</td></tr>
            <tr><td>2010</td><td>2176</td></tr>
            <tr><td>2011</td><td>1934</td></tr>
            <tr><td>2012</td><td>2182</td></tr>
            <tr><td>2013</td><td> 527</td></tr>
            <tr><td>2014</td><td>1805</td></tr>
            <tr><td>2015</td><td> 297</td></tr>
            <tr><td>2016</td><td> 338</td></tr>
            <tr><td>2017</td><td> 363</td></tr>
            <tr><td>2018</td><td> 301</td></tr>
          </table>
        </section>
        <section>
            <h3>The index files</h3>
            <pre><code class="lang-python hljs">url = "https://www.sec.gov/Archives/edgar/daily-index/2018/QTR4/form.20181231.idx"
response = requests.get(url)
print(response.text[:2000])</code></pre>

            <code style="font-size:.42em"><pre>
Description:           Daily Index of EDGAR Dissemination Feed by Form Type
Last Data Received:    Dec 31, 2018
Comments:              webmaster@sec.gov
Anonymous FTP:         ftp://ftp.sec.gov/edgar/
 
 
 
 
Form Type   Company Name                                                  CIK
      Date Filed  File Name
---------------------------------------------------------------------------------------------------------------------------------------------
1-A/A       American Diversified Energy LLC                               1689500     20181231    edgar/data/1689500/0001683168-18-003825.txt         
1-A/A       UMBRA Technologies (US) Inc.                                  1742808     20181231    edgar/data/1742808/0001742808-18-000004.txt         
1-SA        Nuvus Gro Corp                                                1671132     20181231    edgar/data/1671132/0001079974-18-000687.txt         
1-SA        Red Fish Properties, Inc.                                     1703429     20181231    edgar/data/1703429/0001703429-18-000003.txt         
1-U         FUNDRISE REAL ESTATE INVESTMENT TRUST, LLC                    1645583     20181231    edgar/data/1645583/0001144204-18-066698.txt         
10-D        BBCMS Mortgage Trust 2017-C1                                  1696707     20181231    edgar/data/1696707/0001056404-18-009029.txt         
10-D        Benchmark 2018-B1 Mortgage Trust                              1722194     20181231    edgar/data/1722194/0001056404-18-009045.txt         
10-D        Benchmark 2018-B4 Mortgage Trust                              1740849     20181231    edgar/data/1740849/0001056404-18-009059.txt         
10-D        CD 2018-CD7 Mortgage Trust                                    1746406     20181231    edgar/data/1746406/0001056404-18-009057.txt         
            </pre></code>
        <p style="font-size:smaller">Some fixed width, some delimited. Parse to get the document URLs you care about. Prefix is: <a href="https://www.sec.gov/Archives">https://www.sec.gov/Archives</a>.
        </section>
        <section>
          <h3>The Daily Archives</h3>
          <ul>
            <li><a href="https://www.sec.gov/Archives/edgar/Feed/">/edgar/Feed</a><br/>Every literal file uploaded for the day, tarred and zipped in a directory.</li>
            <li><a href="https://www.sec.gov/Archives/edgar/Oldloads/">/edgar/Oldloads</a><br/>Every literal file of the day, concatenated into a gargantuan zipped file.</li>
          </ul>
        </section>
        <section>
          <h2>Opinion: SEC Archive data</h2>
          <ul>
            <li>Great for detailed research of every literal form filed since 1994 for specific companies.</li>
            <li>And to learn <a href="https://www.xbrl.org/">XBRL</a> by looking at filed forms.</li>
            <li>Otherwise a pain because so many of the forms are kind of freestyle.</li>
          </ul>
        </section>
        <section>
         <h1>SEC paid data</h1>
        </section>
        <section>
         <h3>EDGARÂ®Online DataFied API</h4>
         <ul>
            <li><a href="https://developer.edgar-online.com/member/register">developer.edgar-online.com/member/register</a><br/>for API key. Max <a href="https://developer.edgar-online.com/docs/v1">2 queries/sec</a></li>
            <li><a href="https://developer.edgar-online.com/docs/v1#nav7">Companies Metadata</a>:<br/>SIC category, location, symbol</li>
            <li><a href="https://developer.edgar-online.com/docs/v1#nav8">Core Financials</a>:<br/>Balance Sheet, Cash Flow, Income Statement</li>
         </ul>
        </section>
        <section>
         <h3>The 'hackathon' subscription</h3>
          <p><a href="https://developer.edgar-online.com/docs/v1#nav12">https://developer.edgar-online.com/docs/v1#nav12</a></p>
         <iframe title="EDGAR table of developer data." src="https://developer.edgar-online.com/docs/v1#nav12" style="width:100%;height:90%"></iframe>
          <aside class="notes">
            They said for 2 weeks but my API key still works and it's been over 5. It's just the free content isn't so amazing.
          </aside>
        </section>
        <section data-markdown>
          <textarea data-template>
          Use the 'companies' API to get all Chicago companies

          ```python
          base_url = "http://datafied.api.edgar-online.com/v1/"
          companies_api = base_url + "companies"
          # Chicago !
          query = dict(
              cities="chicago",
              sortby="entityid",
              appkey=f"{apikey}",
          )
          response = requests.get(companies_api, params=query)
          data = response.json()
          pd.DataFrame(data["result"]["rowset"]).sort_values(["primaryexchange", "primarysymbol"])
          ```
        </textarea>
        </section>
        <section>
        <h3>Chicago public companies</h3>
<small>
<small>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>cik</th>
      <th>companyname</th>
      <th>entityid</th>
      <th>primaryexchange</th>
      <th>primarysymbol</th>
      <th>siccode</th>
      <th>sicdescription</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0000730464</td>
      <td>ADTALEM GLOBAL EDUCATION INC.</td>
      <td>3054</td>
      <td>NYSE</td>
      <td>ATGE</td>
      <td>8200</td>
      <td>Services-Educational Services</td>
    </tr>
    <tr>
      <td>0000921825</td>
      <td>FIRST INDUSTRIAL REALTY TRUST INC</td>
      <td>2009</td>
      <td>NYSE</td>
      <td>FR</td>
      <td>6798</td>
      <td>Real Estate Investment Trusts</td>
    </tr>
    <tr>
      <td>0000047518</td>
      <td>HILL-ROM HOLDINGS, INC.</td>
      <td>197</td>
      <td>NYSE</td>
      <td>HRC</td>
      <td>3841</td>
      <td>Surgical and Medical Instruments and Apparatus</td>
    </tr>
    <tr>
      <td>0000063908</td>
      <td>MCDONALDS CORP</td>
      <td>2163</td>
      <td>NYSE</td>
      <td>MCD</td>
      <td>5812</td>
      <td>Retail-Eating Places</td>
    </tr>
    <tr>
      <td>0000068505</td>
      <td>MOTOROLA SOLUTIONS, INC.</td>
      <td>2749</td>
      <td>NYSE</td>
      <td>MSI</td>
      <td>3663</td>
      <td>Radio and Television Broadcasting and Communic...</td>
    </tr>
    <tr>
      <td>0000074046</td>
      <td>OIL-DRI CORP OF AMERICA</td>
      <td>91</td>
      <td>NYSE</td>
      <td>ODC</td>
      <td>3990</td>
      <td>Miscellaneous Manufacturing Industries</td>
    </tr>
    <tr>
      <td>0000074260</td>
      <td>OLD REPUBLIC INTERNATIONAL CORP</td>
      <td>3358</td>
      <td>NYSE</td>
      <td>ORI</td>
      <td>6351</td>
      <td>Surety Insurance</td>
    </tr>
    <tr>
      <td>0000726513</td>
      <td>TRIBUNE MEDIA CO</td>
      <td>2871</td>
      <td>NYSE</td>
      <td>TRCO</td>
      <td>4833</td>
      <td>Television Broadcasting Stations</td>
    </tr>
    <tr>
      <td>0000821130</td>
      <td>UNITED STATES CELLULAR CORP</td>
      <td>2839</td>
      <td>NYSE</td>
      <td>USM</td>
      <td>4812</td>
      <td>Radiotelephone Communications</td>
    </tr>
    <tr>
      <td>0000740260</td>
      <td>VENTAS INC</td>
      <td>1093</td>
      <td>NYSE</td>
      <td>VTR</td>
      <td>6798</td>
      <td>Real Estate Investment Trusts</td>
    </tr>
    <tr>
      <td>0000949157</td>
      <td>CENTURY ALUMINUM CO</td>
      <td>3220</td>
      <td>Nasdaq Global Market</td>
      <td>CENX</td>
      <td>3334</td>
      <td>Primary Production of Aluminum</td>
    </tr>
    <tr>
      <td>0000702325</td>
      <td>FIRST MIDWEST BANCORP INC</td>
      <td>3070</td>
      <td>Nasdaq Global Market</td>
      <td>FMBI</td>
      <td>6021</td>
      <td>National Commercial Banks</td>
    </tr>
    <tr>
      <td>0000100517</td>
      <td>UNITED CONTINENTAL HOLDINGS, INC.</td>
      <td>2471</td>
      <td>Nasdaq Global Market</td>
      <td>UAL</td>
      <td>4512</td>
      <td>Air Transportation, Scheduled</td>
    </tr>
    <tr>
      <td>0000770944</td>
      <td>BALLY TOTAL FITNESS HOLDING CORP</td>
      <td>311</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>7997</td>
      <td>Services-Membership Sports and Recreation Clubs</td>
    </tr>
    <tr>
      <td>0000876160</td>
      <td>BERMAN CENTER, INC.</td>
      <td>396</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>8000</td>
      <td>Services-Health Services</td>
    </tr>
    <tr>
      <td>0001038339</td>
      <td>EQUITY OFFICE PROPERTIES TRUST</td>
      <td>514</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>6798</td>
      <td>Real Estate Investment Trusts</td>
    </tr>
    <tr>
      <td>0000868512</td>
      <td>SUN-TIMES MEDIA GROUP INC</td>
      <td>1499</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2711</td>
      <td>Newspapers: Publishing, or Publishing and Prin...</td>
    </tr>
    <tr>
      <td>0000032870</td>
      <td>QUIXOTE CORP</td>
      <td>1700</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>3089</td>
      <td>Plastics Products, Not Elsewhere Classified</td>
    </tr>
    <tr>
      <td>0000868984</td>
      <td>WHITEHALL JEWELLERS INC</td>
      <td>2173</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>5944</td>
      <td>Retail-Jewelry Stores</td>
    </tr>
    <tr>
      <td>0000216039</td>
      <td>GRUBB &amp; ELLIS CO</td>
      <td>2238</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>6531</td>
      <td>Real Estate Agents and Managers (For Others)</td>
    </tr>
    <tr>
      <td>0000924940</td>
      <td>DIAMOND MANAGEMENT &amp; TECHNOLOGY CONSULTANTS, INC.</td>
      <td>3168</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>8742</td>
      <td>Services-Management Consulting Services</td>
    </tr>
    <tr>
      <td>0000077385</td>
      <td>PEOPLES ENERGY CORP</td>
      <td>3204</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>4924</td>
      <td>Natural Gas Distribution</td>
    </tr>
  </tbody>
</table>
</small>
</small>
        </section>
        <section data-markdown>
          <textarea data-template>
          Find the Sears ticker symbol using the API

          ```python
          base_url = "http://datafied.api.edgar-online.com/v1/"
          companies_api = base_url + "companies"
          query = dict(
              companynames="*sears*",  # Sears
              sortby="entityid",
              appkey=f"{apikey}",
          )
          response = requests.get(companies_api, params=query)
          data = response.json()
          ```
        </textarea>
        </section>
        <section>
        It's the second entry: SHLDQ
<code style="font-size:.6em"><pre>
{
  "result": {
    "limit": 25,
    "offset": 0,
    "totalrows": 6,
    "rowset": [
      {
        "entityid": 7311,
        "cik": "0000319256",
        "companyname": "SEARS ROEBUCK & CO",
        "siccode": "5311",
        "sicdescription": "Retail-Department Stores",
        "rownum": 1
      },
      {
        "entityid": 656789,
        "cik": "0001310067",
        "companyname": "SEARS HOLDINGS CORP",
        "primaryexchange": "OTC",
        "primarysymbol": "SHLDQ",
        "siccode": "5311",
        "sicdescription": "Retail-Department Stores",
        "rownum": 2
      },
      .
      .  # etc..
      .
  }
}
</pre></code>
        <div class="fragment" style="position:absolute;top:7.5em;left:2.5em" aria-hidden>
        <svg viewBox="0 0 200 100" xmlns="http://www.w3.org/2000/svg" style="width:350;height:175;overflow:visible;">
          <ellipse cx="100" cy="50" rx="100" ry="50" style="fill:none;stroke:#c15;stroke-width:5;"/>
        </svg>
        </div>
        </section>
        <section>
        The metadata and header fields do what they say: label the rows. Some of it parsed:
<code style="font-size:.6em"><pre>
******************** metadata ********************
      field     label    type value
0  duration  Duration  string   ANN
0  duration  Duration  string   ANN
0  duration  Duration  string   ANN
0  duration  Duration  string   ANN

******************** headers ********************
           field            label     type      value
0  PeriodEndDate  Period End Date     date   2/3/2018
1     fiscalYear      Fiscal Year  integer       2018
2  FiscalQuarter   Fiscal Quarter  integer          4
0  PeriodEndDate  Period End Date     date  1/28/2017
1     fiscalYear      Fiscal Year  integer       2017
</pre></code>
        </section>
        <section>
        <h2>Core Financials API</h2>
        <p>Free <a href="https://developer.edgar-online.com/docs/v1#nav6">concept groups</a> collect common query terms together:</p>
        <ul>
          <li>Balance Sheet</li>
          <li>Cash Flow</li>
          <li>Income Statement</li>
          <li>Valuation, Profitability, Leverage mini-ratios<br/>(mini as in less detail than paid version)</li>
        </ul>
        </section>
        <section data-markdown>
          <textarea data-template>
            Every query is a variant of this:
            ```python
            base_url = "http://datafied.api.edgar-online.com/v1/"
            financials_api = base_url + "corefinancials"
            
            query = dict(
                primarysymbols="SHLDQ",
                conceptgroups="CashFlowStatementConsolidated",
                appkey=apikey
            )
            response = requests.get(financials_api, params=query)
            dataset = response.json()

 
            def has_term(conceptgroup, term):
              return any(term.lower() in c.lower() for c in conceptgroup)
           
            cash_flow = pd.concat(
                pd.DataFrame(groups["rowset"]).assign(
                    fiscalyear=groups["fiscalyear"],
                    fiscalquarter=groups["fiscalquarter"]
                )
                for rowset in dataset["result"]["rowset"]
                for groups in rowset["groups"] if has_term(groups["conceptgroups"], "cash")
            )
            ```
          </textarea>
        </section>
        <section>
        <h3>Output looks Excel-ready &hellip;</h3>
<small><small>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>field</th>
      <th>label</th>
      <th>precision</th>
      <th>type</th>
      <th>value</th>
      <th>fiscalyear</th>
      <th>fiscalquarter</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ChangeinCurrentAssets</td>
      <td>Change in Current Assets</td>
      <td>0</td>
      <td>decimal</td>
      <td>1.922000e+09</td>
      <td>2018</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ChangeinCurrentLiabilities</td>
      <td>Change in Current Liabilities</td>
      <td>0</td>
      <td>decimal</td>
      <td>-4.720000e+08</td>
      <td>2018</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ChangeinDebtNet</td>
      <td>Change in Debt, Net</td>
      <td>0</td>
      <td>decimal</td>
      <td>4.100000e+07</td>
      <td>2018</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ChangeinInventories</td>
      <td>Change in Inventories</td>
      <td>0</td>
      <td>decimal</td>
      <td>1.144000e+09</td>
      <td>2018</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ChangeinOperatingAssetsLiabilities</td>
      <td>Change in Operating Assets &amp; Liabilities</td>
      <td>0</td>
      <td>decimal</td>
      <td>9.160000e+08</td>
      <td>2018</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</small></small>
        </section>
        <section>
        <h3>Sears vs other retailer debt-to-equity</h3>
          <button class="img-table-toggler" id="retailer_debt_equity_png">Show data</button><br/>
          <img src="img/retailer_debt_equity.png"
               class="plain retailer_debt_equity_png"
               alt="Line plot showing the count of S-1 filings descend over time. Click 'Show data' button for table."/>
          <table class="retailer_debt_equity_png" style="display:none;transform-origin:top center;transform:scale(0.4)">
            <tr><th>fiscalyear</th><th>BONTQ</th><th>BURL</th><th>DDS</th><th>JCP</th><th>KSS</th><th>M</th><th>SHLDQ</th></tr>
            <tr><td>2014</td><td>6.8</td><td>--</td><td>--</td><td>--</td><td>--</td><td>--</td><td>--</td></tr>
            <tr><td>2015</td><td>10.4</td><td>-19.0</td><td>0.4</td><td>2.8</td><td>0.8</td><td>1.4</td><td>--</td></tr>
            <tr><td>2016</td><td>28.3</td><td>-13.1</td><td>0.5</td><td>3.7</td><td>0.9</td><td>1.8</td><td>--</td></tr>
            <tr><td>2017</td><td>-43.4</td><td>-22.7</td><td>0.5</td><td>3.6</td><td>0.9</td><td>1.6</td><td>--</td></tr>
            <tr><td>2018</td><td>--</td><td>13.0</td><td>0.4</td><td>3.1</td><td>0.8</td><td>1.0</td><td>-1.3</td></tr>
          </table>
        </section>
        <section>
        <h3>Look up Burlington</h3>
        <p>recent news is positive:</p>
        <iframe title="Zacks December review of Burlington" src="https://www.zacks.com/stock/news/343533/burlington-stores-business-model-amp-sturdy-comps-bode-well" style="width:100%;height:90%"></iframe>
        </section>

        <section>
        </section>

      </div>
    </div>
    <script src="js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script src="js/plugin/markdown/marked.js"></script>
    <script src="js/plugin/markdown/markdown.js"></script>
    <script>
      Reveal.initialize({
        dependencies: [{
          src: 'js/plugin/highlight/highlight.js',
          async: true,
          callback: function() { hljs.initHighlightingOnLoad(); },
          minScale: 0.1,
	        maxScale: 1.3
        }],
        transition: "none"
      });


     // Accessible content.
     // (toggle chart for table of data)
     Array.from(document.getElementsByClassName("img-table-toggler"))
       .forEach(function(toggler) {
          toggler.onclick = function(event) {
            Array.from(document.getElementsByClassName(event.target.id))
              .forEach(function(element) { element.style.display = (element.style.display == "none") ? "inherit" : "none"; });
            toggler.innerHTML = (toggler.innerHTML == "Show data") ? "Show chart" : "Show data";
          };
       });
    </script>
</html>
